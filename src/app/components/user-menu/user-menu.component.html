<!-- src/app/components/shared/user-menu/user-menu.component.html -->
@if (currentUser; as user) {
<div class="user-menu">
    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Menu de usuario">
        <mat-icon>account_circle</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
        <div class="menu-header">
            <div class="user-info">
                <mat-icon class="user-avatar">account_circle</mat-icon>
                <div class="user-details">
                    <span class="user-name">{{ user.name }}</span>
                    <span class="user-email">{{ user.email }}</span>
                </div>
            </div>
        </div>

        <button mat-menu-item (click)="goToProfile()">
            <mat-icon>person</mat-icon>
            <span>Mi perfil</span>
        </button>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Cerrar sesión</span>
        </button>
    </mat-menu>
</div>
} @else {
<a mat-button routerLink="/login" color="primary">
    <mat-icon>login</mat-icon>
    <span>Iniciar sesión</span>
</a>
}