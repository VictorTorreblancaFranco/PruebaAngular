<div class="search-container">
    <!-- Campo de búsqueda -->
    <mat-form-field appearance="outline" class="search-field">
        <mat-icon matPrefix>search</mat-icon>
        <input matInput type="text" [(ngModel)]="searchTerm" (input)="handleSearch()" placeholder="Buscar cliente...">
        <button matSuffix mat-icon-button (click)="clearSearch()" *ngIf="searchTerm" matTooltip="Limpiar búsqueda">
            <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>

    <!-- Botón de filtrar con menú -->
    <button mat-stroked-button [matMenuTriggerFor]="filterMenu" class="filter-button">
        <mat-icon>filter_list</mat-icon>
        <span>{{getFilterText()}}</span>
    </button>

    <mat-menu #filterMenu="matMenu" class="filter-menu">
        <button mat-menu-item (click)="applyFilter('todos')">
            <mat-icon>list</mat-icon>
            <span>Todos</span>
            <mat-icon *ngIf="filterValue === 'todos'" class="check-icon">check</mat-icon>
        </button>
        <button mat-menu-item (click)="applyFilter('activo')">
            <mat-icon>check_circle</mat-icon>
            <span>Activos</span>
            <mat-icon *ngIf="filterValue === 'activo'" class="check-icon">check</mat-icon>
        </button>
        <button mat-menu-item (click)="applyFilter('inactivo')">
            <mat-icon>cancel</mat-icon>
            <span>Inactivos</span>
            <mat-icon *ngIf="filterValue === 'inactivo'" class="check-icon">check</mat-icon>
        </button>
    </mat-menu>

    <!-- Botón limpiar siempre visible -->
    <button mat-stroked-button color="warn" (click)="clearAllFilters()" class="clear-button">
        <mat-icon>clear_all</mat-icon>
        <span>Limpiar todo</span>
    </button>
</div>