<div class="customer-list-container">
    <mat-card class="customer-card">
        <div class="header-section">
            <h2 class="title">Gestión de Clientes</h2>
            <app-search-filter (searchChange)="handleSearch($event)" (filterChange)="handleFilter($event)"
                (clearAll)="handleClear()">
            </app-search-filter>
        </div>

        <div class="table-responsive">
            <table class="customer-table mat-elevation-z2">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Teléfono</th>
                        <th>Estado</th>
                        <th class="actions-header">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let customer of filteredCustomers; trackBy: trackByIdentificador" class="customer-row">
                        <td data-label="Nombre">{{ customer.nombre }}</td>
                        <td data-label="Apellido">{{ customer.apellido }}</td>
                        <td data-label="Teléfono">{{ customer.telefono }}</td>
                        <td data-label="Estado">
                            <span class="status-badge" [class.active]="customer.estado"
                                [class.inactive]="!customer.estado">
                                {{ customer.estado ? 'Activo' : 'Inactivo' }}
                            </span>
                        </td>
                        <td class="actions" data-label="Acciones">
                            <button mat-icon-button color="primary" (click)="viewDetails(customer)"
                                matTooltip="Ver detalles" aria-label="Ver detalles">
                                <mat-icon>visibility</mat-icon>
                            </button>
                            <button mat-icon-button color="accent" (click)="editCustomer(customer)" matTooltip="Editar"
                                aria-label="Editar">
                                <mat-icon>edit</mat-icon>
                            </button>
                            <button mat-icon-button color="warn" (click)="deleteCustomer(customer.identificador)"
                                matTooltip="Eliminar" aria-label="Eliminar">
                                <mat-icon>delete</mat-icon>
                            </button>
                        </td>
                    </tr>

                    <tr *ngIf="filteredCustomers.length === 0" class="no-results-row">
                        <td colspan="5">
                            <div class="no-results-message">
                                <mat-icon>search_off</mat-icon>
                                <span>No se encontraron clientes</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </mat-card>
</div>